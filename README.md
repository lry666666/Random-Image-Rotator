# Random Image Rotator

一个用于批量生成随机角度旋转图片的Python工具。专门设计用于YOLO目标检测模型的数据增强，通过生成多个随机角度的图片来扩充训练数据集，提高模型对不同角度目标的识别能力。

## 主要用途

- **YOLO数据增强**：
  - 扩充训练数据集，提高模型泛化能力
  - 增强模型对旋转目标的识别能力
  - 帮助模型学习目标在不同角度下的特征
  - 减少数据收集成本，快速扩充数据集规模
  - 平衡数据集中不同角度样本的分布

## 优势

- **保持图片质量**：旋转过程中保持原始图片尺寸和清晰度
- **快速批量处理**：自动处理整个文件夹的图片，提高效率
- **随机性保证**：每次旋转角度随机，确保数据多样性
- **命名规范**：自动生成规范的文件名，便于管理和使用
- **格式统一**：输出统一JPG格式，确保与主流框架兼容

## 功能特点

- 支持多种图片格式（JPG, JPEG, PNG, BMP, TIFF）
- 输出统一为高质量JPG格式
- 保持原始图片尺寸不变
- 可自定义生成的随机角度版本数量
- 自动生成唯一的文件名（格式：原文件名_随机ID_版本号）
- 实时显示处理进度
- 支持批量处理整个文件夹的图片

## 环境要求

- Python 3.6 或更高版本
- Pillow 库（用于图片处理）

## 安装方法

1. 克隆仓库到本地：
```bash
git clone https://github.com/lry666666/random-image-rotator.git
cd random-image-rotator
```

2. 安装所需的Python库：
```bash
pip install Pillow
```

## 使用方法

1. 运行程序：
```bash
python image_rotator.py
```

2. 按提示输入以下信息：
   - 输入原始图片所在文件夹的完整路径
   - 输入保存处理后图片的文件夹路径
   - 输入每张图片需要生成的随机角度版本数量

### 路径输入示例

Windows:
```
C:\Users\YourName\Pictures\Input
C:\Users\YourName\Pictures\Output
```

Linux/Mac:
```
/home/YourName/Pictures/Input
/home/YourName/Pictures/Output
```

## 数据增强建议

- **版本数量选择**：
  - 建议根据原始数据集大小选择合适的版本数量
  - 小数据集（<1000张）可以生成更多版本（15-30个）
  - 大数据集（>5000张）可以适当减少版本数量（5-10个）

- **使用场景**：
  - 目标在图片中经常出现不同角度时
  - 训练数据中某些角度的样本较少时
  - 需要提高模型对旋转不变性的要求时

## 输出说明

- 所有输出图片将保存为JPG格式
- 文件命名格式：原文件名_随机ID_版本号.jpg
- 例如：photo_a1b2_v1.jpg

## 注意事项

- 确保有足够的磁盘空间存储输出文件
- 程序会自动创建不存在的输出文件夹
- 如果输入包含RGBA格式的图片（如PNG），会自动转换为RGB格式
- 处理大量图片时可能需要一些时间，请耐心等待
- 建议在使用增强后的数据集时，合理分配训练集和验证集

## 错误处理

程序包含以下错误处理机制：
- 检查输入文件夹路径的有效性
- 验证输出文件夹的写入权限
- 检查输入文件夹中是否存在支持的图片文件
- 确保版本数量为正整数

